name: Close Stale Issues and PRs

on:
  schedule:
    # æ¯å¤©è¿è¡Œä¸€æ¬¡
    - cron: '0 0 * * *'
  workflow_dispatch:

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    
    steps:
      - uses: actions/stale@v10
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issues é…ç½®
          stale-issue-message: |
            ğŸ‘‹ è¿™ä¸ª issue å·²ç» 30 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·å›å¤æ­¤æ¶ˆæ¯ï¼Œæˆ‘ä»¬ä¼šé‡æ–°æ‰“å¼€ã€‚
            å¦‚æœ 7 å¤©å†…æ²¡æœ‰å›å¤ï¼Œè¿™ä¸ª issue å°†è¢«è‡ªåŠ¨å…³é—­ã€‚
            
            æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼
          
          close-issue-message: |
            ğŸ”’ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œè¿™ä¸ª issue å·²è¢«è‡ªåŠ¨å…³é—­ã€‚
            
            å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œæ¬¢è¿é‡æ–°æ‰“å¼€æˆ–åˆ›å»ºæ–°çš„ issueã€‚
          
          stale-issue-label: 'stale'
          days-before-issue-stale: 30
          days-before-issue-close: 7
          
          # PR é…ç½®
          stale-pr-message: |
            ğŸ‘‹ è¿™ä¸ª PR å·²ç» 14 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            å¦‚æœä»åœ¨å¼€å‘ä¸­ï¼Œè¯·æ›´æ–° PR æˆ–æ·»åŠ è¯„è®ºã€‚
            å¦‚æœ 7 å¤©å†…æ²¡æœ‰æ´»åŠ¨ï¼Œè¿™ä¸ª PR å°†è¢«è‡ªåŠ¨å…³é—­ã€‚
          
          close-pr-message: |
            ğŸ”’ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œè¿™ä¸ª PR å·²è¢«è‡ªåŠ¨å…³é—­ã€‚
            
            å¦‚æœä»æƒ³åˆå¹¶ï¼Œæ¬¢è¿é‡æ–°æ‰“å¼€ã€‚
          
          stale-pr-label: 'stale'
          days-before-pr-stale: 14
          days-before-pr-close: 7
          
          # æ’é™¤çš„æ ‡ç­¾
          exempt-issue-labels: 'pinned,security,roadmap'
          exempt-pr-labels: 'pinned,work-in-progress'
          
          # æ’é™¤é‡Œç¨‹ç¢‘
          exempt-all-milestones: true
