# 角色 @ 提及 - 快速参考 🚀

## 基本操作

| 操作 | 说明 |
|------|------|
| `@` | 触发角色提及菜单 |
| `@张` | 搜索包含"张"的角色 |
| `↑` `↓` | 上下选择角色 |
| `Enter` | 插入选中的角色 |
| `Esc` | 关闭菜单 |
| 鼠标悬停 | 查看角色详细信息 |

## 搜索技巧

### 1. 按名称搜索
```
@张三  → 匹配"张三"
@张    → 匹配所有姓张的角色
```

### 2. 按别名搜索
```
角色"李四"的别名是"小李"
@小李  → 匹配"李四"
```

### 3. 按身份搜索
```
角色"王五"的身份是"主角"
@主角  → 匹配"王五"
```

### 4. 查看全部
```
@     → 显示所有角色（最多8个）
```

## UI 说明

### 提及菜单
```
┌─────────────────────────────┐
│ 搜索 "张"                    │
├─────────────────────────────┤
│ 👤 张三                      │
│    # 小张, 三哥      主角    │
├─────────────────────────────┤
│ 👤 张小明                    │
│    # 小明            配角    │
├─────────────────────────────┤
│ ↑↓ 选择 · ↵ 确认 · Esc 取消 │
└─────────────────────────────┘
```

### 悬停卡片
```
┌─────────────────────────────┐
│ 👤 张三                      │
├─────────────────────────────┤
│ 🏷️ 身份                      │
│ [主角] [男性]                │
│                              │
│ ℹ️ 别名                      │
│ 小张, 三哥, 张老三           │
│                              │
│ ─────────────────────────   │
│ 性格开朗，喜欢帮助他人...    │
│                              │
│ 👥 关系                      │
│ 李四的朋友, 王五的同学       │
│                              │
│ 📅 创建于 2024/12/02         │
└─────────────────────────────┘
```

## 样式说明

### 提及标签外观
- 背景：淡蓝色（primary/10）
- 文字：主题色（primary）
- 效果：圆角、内边距、悬停高亮

示例：`这是 @张三 的故事`

## 常见问题

### Q: 输入 @ 没反应？
A: 确保当前项目有角色数据

### Q: 搜索不到角色？
A: 检查角色名称、别名、身份标签

### Q: 菜单显示不全？
A: 最多显示8个，输入更多字符缩小范围

### Q: 悬停卡片不显示？
A: 确保鼠标悬停在角色名上

## 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `@` | 打开菜单 |
| `↑` | 上一个 |
| `↓` | 下一个 |
| `Enter` | 确认选择 |
| `Esc` | 取消 |
| `Tab` | （未来）选择第一个 |

## 性能提示

- ✅ 搜索响应 < 50ms
- ✅ 菜单动画 200ms
- ✅ 最多显示 8 个结果
- ✅ 自动缓存角色列表

## 最佳实践

1. **角色命名**
   - 简短易记
   - 避免特殊字符
   - 设置常用别名

2. **搜索技巧**
   - 输入前几个字符
   - 使用别名快速定位
   - 利用身份标签分类

3. **信息维护**
   - 填写完整的角色信息
   - 定期更新角色关系
   - 添加清晰的身份标签

## 支持的编辑器

- ✅ 小说写作（NovelEditor）
- ✅ 角色管理（MinimalEditor）
- ✅ 所有使用 Lexical 的编辑器

---

💡 **提示**：按 `@` 开始，享受流畅的角色提及体验！
