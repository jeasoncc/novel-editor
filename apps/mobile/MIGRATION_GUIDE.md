# Desktop åˆ° Mobile åŠŸèƒ½è¿ç§»æŒ‡å—

æœ¬æ–‡æ¡£è®°å½•äº†ä» Desktop é¡¹ç›®è¿ç§»åŠŸèƒ½åˆ° Mobile é¡¹ç›®çš„è®¡åˆ’å’Œæ–¹æ³•ã€‚

## ğŸ“‹ åŠŸèƒ½æ˜ å°„è¡¨

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®åŸºç¡€ç»“æ„
- [x] Expo Router è·¯ç”±é…ç½®
- [x] åŸºç¡€é¡µé¢æ¡†æ¶

### ğŸ”„ è¿›è¡Œä¸­
- [ ] æ•°æ®æ¨¡å‹è¿ç§»
- [ ] UI ç»„ä»¶è¿ç§»

### ğŸ“ å¾…è¿ç§»åŠŸèƒ½

#### 1. æ ¸å¿ƒæ•°æ®å±‚
- [ ] æ•°æ®åº“ Schemaï¼ˆ`db/schema.ts`ï¼‰
- [ ] æ•°æ®åº“æ“ä½œï¼ˆ`db/curd.ts`ï¼‰
- [ ] IndexedDB â†’ MMKV/AsyncStorage é€‚é…

#### 2. çŠ¶æ€ç®¡ç†
- [ ] Zustand Stores è¿ç§»
  - [ ] `stores/editor-history.ts`
  - [ ] `stores/font.ts`
  - [ ] `stores/outline.ts`
  - [ ] `stores/selection.ts`
  - [ ] `stores/theme.ts`
  - [ ] `stores/ui.ts`
  - [ ] `stores/writing.ts`

#### 3. æœåŠ¡å±‚
- [ ] `services/projects.ts` - é¡¹ç›®ç®¡ç†
- [ ] `services/chapters.ts` - ç« èŠ‚ç®¡ç†
- [ ] `services/scenes.ts` - åœºæ™¯ç®¡ç†
- [ ] `services/roles.ts` - è§’è‰²ç®¡ç†
- [ ] `services/search.ts` - æœç´¢æœåŠ¡
- [ ] `services/export.ts` - å¯¼å‡ºåŠŸèƒ½
- [ ] `services/backup.ts` - å¤‡ä»½æœåŠ¡
- [ ] `services/world.ts` - ä¸–ç•Œè§‚ç®¡ç†

#### 4. UI ç»„ä»¶

##### 4.1 ç¼–è¾‘å™¨ç»„ä»¶
- [ ] å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆLexical â†’ React Native å…¼å®¹ç¼–è¾‘å™¨ï¼‰
- [ ] ç¼–è¾‘å™¨å·¥å…·æ 
- [ ] ç¼–è¾‘å™¨æ’ä»¶ç³»ç»Ÿ

##### 4.2 é¡¹ç›®ç®¡ç†
- [ ] é¡¹ç›®åˆ—è¡¨
- [ ] é¡¹ç›®è¯¦æƒ…
- [ ] é¡¹ç›®åˆ›å»º/ç¼–è¾‘å¯¹è¯æ¡†

##### 4.3 å¤§çº²ç³»ç»Ÿ
- [ ] å¤§çº²æ ‘è§†å›¾
- [ ] å¤§çº²å¡ç‰‡è§†å›¾
- [ ] å¤§çº²è¯¦æƒ…é¢æ¿
- [ ] å›¾è¡¨ç¼–è¾‘å™¨ï¼ˆMermaid/PlantUMLï¼‰

##### 4.4 è§’è‰²ç®¡ç†
- [ ] è§’è‰²åˆ—è¡¨
- [ ] è§’è‰²è¯¦æƒ…
- [ ] è§’è‰²æåŠåŠŸèƒ½

##### 4.5 è®¾ç½®
- [ ] é€šç”¨è®¾ç½®
- [ ] ç¼–è¾‘å™¨è®¾ç½®
- [ ] ä¸»é¢˜è®¾ç½®
- [ ] å­—ä½“è®¾ç½®

#### 5. è·¯ç”±å’Œå¯¼èˆª
- [ ] é¡¹ç›®è·¯ç”±
- [ ] ç¼–è¾‘å™¨è·¯ç”±
- [ ] è®¾ç½®è·¯ç”±
- [ ] å¤§çº²è·¯ç”±
- [ ] è§’è‰²è·¯ç”±

#### 6. Hooks
- [ ] `hooks/use-theme.ts` - ä¸»é¢˜ Hook
- [ ] `hooks/use-settings.ts` - è®¾ç½® Hook
- [ ] `hooks/use-mobile.ts` - ç§»åŠ¨ç«¯é€‚é… Hook

## ğŸ”§ æŠ€æœ¯é€‚é…è¯´æ˜

### æ•°æ®å­˜å‚¨
- **Desktop**: Dexie.js (IndexedDB)
- **Mobile**: MMKV / AsyncStorage
- **è¿ç§»ç­–ç•¥**: åˆ›å»ºç»Ÿä¸€çš„æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰ï¼ŒæŠ½è±¡å­˜å‚¨å®ç°

### UI ç»„ä»¶
- **Desktop**: Radix UI + Tailwind CSS
- **Mobile**: React Native Components + StyleSheet
- **è¿ç§»ç­–ç•¥**: 
  - åˆ›å»ºç§»åŠ¨ç«¯é€‚é…ç»„ä»¶åº“
  - ä½¿ç”¨ React Native åŸç”Ÿç»„ä»¶æ›¿ä»£ Web ç»„ä»¶

### è·¯ç”±
- **Desktop**: TanStack Router
- **Mobile**: Expo Router
- **è¿ç§»ç­–ç•¥**: ä¿æŒè·¯ç”±ç»“æ„ä¸€è‡´ï¼Œä½¿ç”¨ Expo Router çš„å£°æ˜å¼è·¯ç”±

### ç¼–è¾‘å™¨
- **Desktop**: Lexical Editor
- **Mobile**: React Native å…¼å®¹çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- **è¿ç§»ç­–ç•¥**: 
  - è¯„ä¼° React Native å…¼å®¹çš„ç¼–è¾‘å™¨æ–¹æ¡ˆ
  - å¯èƒ½é€‰é¡¹ï¼šreact-native-rich-text-editor, react-native-pell-rich-editor

### å›¾è¡¨æ¸²æŸ“
- **Desktop**: Mermaid, PlantUML (Web æ¸²æŸ“)
- **Mobile**: éœ€è¦è¯„ä¼°ç§»åŠ¨ç«¯æ¸²æŸ“æ–¹æ¡ˆ
- **è¿ç§»ç­–ç•¥**: 
  - ä½¿ç”¨ WebView æ¸²æŸ“å›¾è¡¨
  - æˆ–ä½¿ç”¨ç§»åŠ¨ç«¯å›¾è¡¨åº“æ›¿ä»£

## ğŸ“¦ ä¾èµ–å¯¹æ¯”

### Desktop ä¸“ç”¨ä¾èµ–ï¼ˆéœ€è¦æ›¿æ¢ï¼‰
- `@tanstack/react-router` â†’ `expo-router`
- `dexie` â†’ `react-native-mmkv` / `@react-native-async-storage/async-storage`
- `@radix-ui/*` â†’ React Native ç»„ä»¶
- `tailwindcss` â†’ StyleSheet / styled-components
- Lexical â†’ React Native ç¼–è¾‘å™¨

### å¯å¤ç”¨ä¾èµ–
- `zustand` - çŠ¶æ€ç®¡ç†
- `@tanstack/react-query` - æ•°æ®æŸ¥è¯¢
- `zod` - ç±»å‹éªŒè¯
- `dayjs` - æ—¥æœŸå¤„ç†
- `uuid` - UUID ç”Ÿæˆ

## ğŸš€ è¿ç§»æ­¥éª¤

1. **é˜¶æ®µ 1: åŸºç¡€è®¾æ–½** âœ…
   - [x] é¡¹ç›®åˆå§‹åŒ–
   - [x] åŸºç¡€é…ç½®
   - [x] è·¯ç”±æ¡†æ¶

2. **é˜¶æ®µ 2: æ•°æ®å±‚**
   - [ ] æ•°æ®åº“ Schema è¿ç§»
   - [ ] æ•°æ®è®¿é—®å±‚å®ç°
   - [ ] æ•°æ®è¿ç§»è„šæœ¬

3. **é˜¶æ®µ 3: æ ¸å¿ƒåŠŸèƒ½**
   - [ ] é¡¹ç›®ç®¡ç†
   - [ ] ç¼–è¾‘å™¨åŸºç¡€åŠŸèƒ½
   - [ ] æœç´¢åŠŸèƒ½

4. **é˜¶æ®µ 4: æ‰©å±•åŠŸèƒ½**
   - [ ] å¤§çº²ç³»ç»Ÿ
   - [ ] è§’è‰²ç®¡ç†
   - [ ] å¯¼å‡ºåŠŸèƒ½

5. **é˜¶æ®µ 5: ä¼˜åŒ–å’Œæµ‹è¯•**
   - [ ] æ€§èƒ½ä¼˜åŒ–
   - [ ] UI/UX ä¼˜åŒ–
   - [ ] æµ‹è¯•è¦†ç›–

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½è€ƒè™‘**: ç§»åŠ¨ç«¯æ€§èƒ½é™åˆ¶ï¼Œéœ€è¦ä¼˜åŒ–å¤§é‡æ•°æ®çš„å¤„ç†
2. **ç¦»çº¿ä¼˜å…ˆ**: ç¡®ä¿æ ¸å¿ƒåŠŸèƒ½åœ¨ç¦»çº¿çŠ¶æ€ä¸‹å¯ç”¨
3. **è§¦æ‘¸ä¼˜åŒ–**: UI éœ€è¦é€‚é…è§¦æ‘¸æ“ä½œï¼Œè€Œéé¼ æ ‡æ“ä½œ
4. **æ–‡ä»¶ç³»ç»Ÿ**: ç§»åŠ¨ç«¯æ–‡ä»¶ç³»ç»Ÿè®¿é—®å—é™ï¼Œéœ€è¦é€‚é…
5. **åŸç”ŸåŠŸèƒ½**: è€ƒè™‘ä½¿ç”¨åŸç”ŸåŠŸèƒ½ï¼ˆå¦‚åˆ†äº«ã€æ–‡ä»¶é€‰æ‹©ç­‰ï¼‰

## ğŸ”— å‚è€ƒèµ„æº

- [Expo Router æ–‡æ¡£](https://docs.expo.dev/router/introduction/)
- [React Native æ–‡æ¡£](https://reactnative.dev/)
- [MMKV æ–‡æ¡£](https://github.com/mrousavy/react-native-mmkv)
- Desktop é¡¹ç›®æºä»£ç å‚è€ƒ





