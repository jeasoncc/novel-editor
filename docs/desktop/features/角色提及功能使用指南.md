# 角色提及功能使用指南

## 🎯 功能介绍

在编辑器中输入 `@` 符号可以快速引用角色，鼠标悬停在角色名称上会显示角色的详细信息。

## 📖 使用方法

### 1. 引用角色

**步骤**：
1. 在编辑器中输入 `@`
2. 输入角色名称（支持模糊搜索）
3. 从下拉列表中选择角色
4. 角色名称会以蓝色高亮显示

**示例**：
```
@张三走进了房间，看到@李四正在看书。
```

### 2. 查看角色信息

**步骤**：
1. 将鼠标移动到角色名称上
2. 等待 0.5 秒
3. 会弹出角色信息卡片

**显示内容**：
- 👤 角色名称
- 🏷️ 身份标签
- ℹ️ 别名
- 📝 基本设定
- 👥 关系
- 📅 创建时间

## 💡 使用技巧

### 技巧 1: 快速搜索

输入角色名称的任意部分即可搜索：
- 输入 `@张` → 显示所有姓张的角色
- 输入 `@主` → 显示包含"主"的角色

### 技巧 2: 键盘操作

- `↑` `↓` - 上下选择角色
- `Enter` - 确认选择
- `Esc` - 关闭菜单

### 技巧 3: 保持提示打开

鼠标移动到 Wiki 卡片上时，卡片会保持打开状态，方便阅读。

## 🎨 视觉效果

### 角色提及样式

- **颜色**: 蓝色文字
- **背景**: 浅蓝色
- **效果**: 悬停时背景加深

### Wiki 卡片样式

- **位置**: 角色名称下方
- **宽度**: 320px
- **动画**: 淡入 + 缩放
- **阴影**: 大阴影

## 📋 常见问题

### Q: 为什么输入 @ 没有显示角色列表？

**A**: 可能的原因：
1. 当前项目没有创建角色
2. 没有选中项目
3. 解决方法：先在"角色"页面创建角色

### Q: 为什么悬停没有显示信息？

**A**: 可能的原因：
1. 角色数据已被删除
2. 网络延迟
3. 解决方法：刷新页面重试

### Q: 如何删除已插入的角色提及？

**A**: 像普通文字一样删除即可：
- 使用 `Backspace` 或 `Delete` 键
- 选中后按删除键

### Q: 可以修改角色提及吗？

**A**: 不能直接修改，需要：
1. 删除原有的提及
2. 重新输入 `@` 选择角色

## 🌟 最佳实践

### 1. 保持角色信息完整

在"角色"页面填写完整的角色信息：
- 名称
- 身份
- 别名
- 基本设定
- 关系

这样悬停提示会更有用。

### 2. 使用一致的角色名称

通过 @ 提及功能引用角色，可以：
- 避免拼写错误
- 保持名称一致
- 方便后期修改

### 3. 合理使用提及

不需要每次都使用 @：
- 第一次出现时使用 @
- 重要场景使用 @
- 需要查看信息时使用 @

## 🎯 使用场景

### 场景 1: 写作时快速引用

```
第一章

@主角张三是一名侦探，今天他接到了一个奇怪的案子。
委托人@李四声称自己的宝物被盗了。
```

### 场景 2: 查看角色关系

悬停在角色名称上，快速查看角色关系，避免写错。

### 场景 3: 回顾角色设定

写作过程中忘记角色设定时，悬停查看即可，无需离开编辑器。

## 📊 功能对比

| 功能 | 传统方式 | @ 提及功能 |
|-----|---------|-----------|
| 输入角色名 | 手动输入 | 自动补全 |
| 查看信息 | 切换页面 | 悬停查看 |
| 名称一致性 | 容易出错 | 自动保证 |
| 操作效率 | 较慢 | 快速 |

## 🚀 快捷键

| 操作 | 快捷键 |
|-----|--------|
| 触发提及 | `@` |
| 上一个 | `↑` |
| 下一个 | `↓` |
| 确认 | `Enter` |
| 取消 | `Esc` |

## 💬 反馈与建议

如果你有任何建议或发现问题，欢迎反馈！

---

**开始使用角色提及功能，让写作更高效！** ✨
